---
import { slugify } from '@js/utils';
import NormalizeLinks from '@components/markdown/NormalizeLinks.astro';

const { as: Component, href } = Astro.props;
const sanitizedId = slugify(href);
---

{
   Component === 'h2' || Component === 'h3' ? (
      <Component id={sanitizedId}>
         <NormalizeLinks href={`#${sanitizedId}`}>
            <slot />
         </NormalizeLinks>
      </Component>
   ) : (
      <Component id={sanitizedId}>
         <slot />
      </Component>
   )
}
