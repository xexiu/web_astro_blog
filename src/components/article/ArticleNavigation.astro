---
import Link from '@components/Link.astro';
import type { Post } from 'types/utils';

interface Props {
   nextEntry: Post;
   prevEntry: Post;
}

const { prevEntry, nextEntry } = Astro.props;
---

{
   prevEntry && (
      <div class="prev-article">
         <h5>
            <Link
               text={prevEntry.data.title}
               href={prevEntry.slug}
               style="primary"
               isFilled={false}
               data-sidebarLink
               aria-label={`Prev article: ${prevEntry.data.title}`}
               classes="btn-blue"
            />
         </h5>
      </div>
   )
}

{
   nextEntry && (
      <div class="next-article">
         <h5>
            <Link
               text={nextEntry.data.title}
               href={nextEntry.slug}
               style="primary"
               isFilled={false}
               data-sidebarLink
               aria-label={`Prev article: ${nextEntry.data.title}`}
               classes="btn-blue"
            />
         </h5>
      </div>
   )
}

<style is:inline>
   .prev-article,
   .next-article {
      .btn-blue {
         padding: 10px;
         height: 40px;
         display: inline-block;
         width: 100%;
      }
   }

   .prev-article,
   .next-article {
      width: 40%;
      display: flex;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      position: relative;
      & span {
         overflow: hidden;
         white-space: nowrap;
         text-overflow: ellipsis;
         display: inline-block;
         width: 100%;
      }
   }

   .prev-article {
      justify-content: flex-start;
      & span {
         padding-left: 15px;
      }
      &:before {
         background: white;
         bottom: 0;
         clip-path: polygon(50% 0, 0 50%, 50% 100%);
         content: "";
         position: absolute;
         top: 15px;
         left: 8px;
         transition: background 0.2s linear;
         width: 15px;
         height: 15px;
         z-index: 1;
      }
   }

   .next-article {
      justify-content: flex-end;
      & span {
         padding-right: 15px;
      }
      &:before {
         background: white;
         bottom: 0;
         clip-path: polygon(50% 50%, -50% -50%, 0 100%);
         content: "";
         position: absolute;
         top: 15px;
         right: 0px;
         transition: background 0.2s linear;
         width: 15px;
         height: 15px;
         z-index: 1;
      }
   }

   .prev-article h5,
   .next-article h5 {
      flex: 1;
      overflow: hidden;
   }
</style>
