---
import { Image } from 'astro:assets';

type Props = {
   src: ImageMetadata;
   alt: string;
   classes?: string;
};

const {
   src,
   alt,
   ...rest
} = Astro.props;
const images = import.meta.glob('../images/*');
const cleanSrc = (src as any).replace('/src/', '../');
const imagesrc = await images[cleanSrc] ? images[cleanSrc]() : images['../images/default.png']() as Record<string,any>;
---

<Image
   src={imagesrc}
   {alt}
   class:list={['image']}
   {...rest}
/>
